<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>打磚塊遊戲版本</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }

        #gameFrame {
            width: 100%; /* 設置為視窗寬度的 100% */
            height: 60vh; /* 設置為視窗高度的 60% */
            border: 1px solid #ccc;
            margin-top: 20px;
        }

        .link {
            text-decoration: none;
            color: blue;
        }

        #description, #controls {
            margin-top: 20px;
            font-size: 16px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
        }

        th, td {
            border: 1px solid #ccc;
            padding: 8px;
            text-align: center; /* 置中對齊 */
        }
        
        th {
            background-color: #f2f2f2;
        }
    </style>
</head>
<body>
    <h1>打磚塊遊戲版本</h1>
    <h2>點擊下方連結來展示不同版本的遊戲</h2>
    
    <!-- 版本連結表格 -->
    <table>
        <thead>
            <tr>
                <th>版本</th>
                <th>Ver. 0.0</th>
                <th>Ver. 0.1</th>
                <th>Ver. 1.0</th>
                <th>Ver. 1.1</th>
                <th>Ver. 1.2</th>
                <th>Ver. 1.3</th>
                <th>Ver. 1.4</th>
                <th>Ver. 1.5</th>
                <th>Ver. 1.6</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>連結</td>
                <td><a href="#" class="link" onclick="loadGame('0.0.html', 'ver00')">開啟</a></td>
                <td><a href="#" class="link" onclick="loadGame('0.1.html', 'ver01')">開啟</a></td>
                <td><a href="#" class="link" onclick="loadGame('1.0.html', 'ver02')">開啟</a></td>
                <td><a href="#" class="link" onclick="loadGame('1.1.html', 'ver03')">開啟</a></td>
                <td><a href="#" class="link" onclick="loadGame('1.2.html', 'ver04')">開啟</a></td>
                <td><a href="#" class="link" onclick="loadGame('1.3.html', 'ver05')">開啟</a></td>
                <td><a href="#" class="link" onclick="loadGame('1.4.html', 'ver06')">開啟</a></td>
                <td><a href="#" class="link" onclick="loadGame('1.5.html', 'ver07')">開啟</a></td>
                <td><a href="#" class="link" onclick="loadGame('1.6.html', 'ver08')">開啟</a></td>
            </tr>
        </tbody>
    </table>

    <!-- 用來顯示操作方法的區域 -->
    <div id="controls" style="display:none;">
        <h3>操作說明</h3>
        <table>
            <thead>
                <tr>
                    <th>操作</th>
                    <th>描述</th>
                </tr>
            </thead>
            <tbody id="controlsBody">
                <!-- 操作說明會在這裡動態生成 -->
            </tbody>
        </table>
    </div>

    <!-- 用來顯示版本說明的區域 -->
    <div id="description">請選擇一個遊戲版本來查看其說明。</div>

    <!-- 用來展示遊戲的 iframe -->
    <iframe id="gameFrame" src="" frameborder="0"></iframe>

    <script>
        // 定義每個版本的遊戲說明
        const gameDescriptions = {
            ver00: "Ver. 0.0：這是一個基本的打磚塊遊戲，擁有簡單的磚塊排列和控制。最初的雛形。\n發現bug：按 R 會加速。",
            ver01: "Ver. 0.1：修復bug：按 R 會加速。",
            ver02: "Ver. 1.0：優化磚塊碰撞判定；\n新增暫停提示文字；\n優化鍵盤控制功能：\n暫停遊戲/繼續遊戲 --> P \n開始遊戲/重新開始 --> 空白鍵。",
            ver03: "Ver. 1.1：新增功能：玩家可控制發球。\n發現bug：方向鍵會控制滑桿 (Scroll Bar) 。",
            ver04: "Ver. 1.2：新增操作方式： WASD 。\n發現bug：使用方向鍵可以無限發球與加速。",
            ver05: "Ver. 1.3：新增功能：生命值系統。\n發現bug：生命值會呈現負值。",
            ver06: "Ver. 1.4：調整難易度。取消操作方式： 方向鍵 。\n修復bug：方向鍵會控制滑桿 (Scroll Bar) 。\n修復bug：使用方向鍵可以無限發球與加速。\n修復bug：生命值會呈現負值。",
            ver07: "Ver. 1.5：新增操作方式： IJKL 。",
            ver08: "Ver. 1.6：新增功能：道具系統。",
        };

        // 定義每個版本的操作方法
        const gameControls = {
            ver00: [
                { operation: "空白鍵", description: "開始遊戲。" },
                { operation: "Enter", description: "重新遊戲。" },
                { operation: "P", description: "暫停遊戲。" },
                { operation: "R", description: "繼續遊戲。" },
                { operation: "←", description: "控制板子向左移動。" },
                { operation: "→", description: "控制板子向右移動。" }
            ],
            ver01: [
                { operation: "空白鍵", description: "開始遊戲。" },
                { operation: "Enter", description: "重新遊戲。" },
                { operation: "P", description: "暫停遊戲。" },
                { operation: "R", description: "繼續遊戲。" },
                { operation: "←", description: "控制板子向左移動。" },
                { operation: "→", description: "控制板子向右移動。" }
            ],
            ver02: [
                { operation: "空白鍵", description: "開始 / 重新遊戲。" },
                { operation: "P", description: "暫停 / 繼續遊戲。" },
                { operation: "←", description: "控制板子向左移動。" },
                { operation: "→", description: "控制板子向右移動。" }
            ],
            ver03: [
                { operation: "空白鍵", description: "開始 / 重新遊戲。" },
                { operation: "P", description: "暫停 / 繼續遊戲。" },
                { operation: "B", description: "發射小球。" },
                { operation: "←", description: "控制板子向左移動。" },
                { operation: "→", description: "控制板子向右移動。" }
            ],
            ver04: [
                { operation: "空白鍵", description: "開始 / 重新遊戲。" },
                { operation: "P", description: "暫停 / 繼續遊戲。" },
                { operation: "B", description: "發射小球。" },
                { operation: "←", description: "控制板子向左移動。" },
                { operation: "→", description: "控制板子向右移動。" }
            ],
            ver05: [
                { operation: "P", description: "暫停 / 繼續遊戲。" },
                { operation: "W / ↑", description: "發射小球。" },
                { operation: "S / ↓", description: "開始 / 重新遊戲。" },
                { operation: "A / ←", description: "控制板子向左移動。" },
                { operation: "D / →", description: "控制板子向右移動。" }
            ],
            ver06: [
                { operation: "P", description: "暫停 / 繼續遊戲。" },
                { operation: "W", description: "發射小球。" },
                { operation: "S", description: "開始 / 重新遊戲。" },
                { operation: "A", description: "控制板子向左移動。" },
                { operation: "D", description: "控制板子向右移動。" }
            ],
            ver07: [
                { operation: "P", description: "暫停 / 繼續遊戲。" },
                { operation: "W / I", description: "發射小球。" },
                { operation: "S / K", description: "開始 / 重新遊戲。" },
                { operation: "A / J", description: "控制板子向左移動。" },
                { operation: "D / L", description: "控制板子向右移動。" }
            ],
            ver08: [
                { operation: "P", description: "暫停 / 繼續遊戲。" },
                { operation: "W / I", description: "發射小球。" },
                { operation: "S / K", description: "開始 / 重新遊戲。" },
                { operation: "A / J", description: "控制板子向左移動。" },
                { operation: "D / L", description: "控制板子向右移動。" },
                { operation: "道具", description: "功能" },
                { operation: "青色", description: "小球凍結 1.5 秒。" },
                { operation: "綠色", description: "小球減速。" },
                { operation: "紅色", description: "小球加速。" },
                { operation: "黃色", description: "板子麻痺 1 秒。" },
                { operation: "粉色", description: "生命值 ＋1 。" },
            ],
        };

        // 用來載入遊戲和顯示對應的說明
        function loadGame(versionFile, version) {
            const frame = document.getElementById('gameFrame');
            const description = document.getElementById('description');
            const controlsBody = document.getElementById('controlsBody');
            const controlsDiv = document.getElementById('controls');

            // 更新 iframe 的 src 以載入選擇的遊戲版本
            frame.src = versionFile;

            // 根據選擇的版本更新說明內容
            description.textContent = gameDescriptions[version] || "此版本沒有提供說明。";

            // 清空操作方法表格並填入新的操作方法
            controlsBody.innerHTML = '';
            if (gameControls[version]) {
                gameControls[version].forEach(control => {
                    const row = document.createElement('tr');
                    row.innerHTML = `<td>${control.operation}</td><td>${control.description}</td>`;
                    controlsBody.appendChild(row);
                });
                controlsDiv.style.display = 'block'; // 顯示操作說明表格
            } else {
                controlsDiv.style.display = 'none'; // 隱藏操作說明表格
            }
        }
    </script>
</body>
</html>
